"use strict";exports.id=6359,exports.ids=[6359],exports.modules={56359:(e,r,a)=>{a.d(r,{L:()=>t});var l=a(1344),s=a(39448),n=a(90596),i=a(48572);let t={pages:{signIn:"/login"},callbacks:{async signIn({user:e,account:r,profile:a,email:s,credentials:n}){(0,l.$)();try{let r=await i.n.findOne({email:e.email});if(r)return!0;return await i.n.create({email:e.email,name:e.name,role:"User"}),!0}catch(e){return console.log("The error is ",e),!1}},jwt:async({token:e,user:r})=>(r&&(r.role=r?.role==null?"User":r?.role,e.user=r),e),session:async({session:e,token:r,user:a})=>(e.user=r.user,e)},providers:[(0,s.Z)({name:"Welcome Back",type:"credentials",credentials:{email:{label:"Email",type:"email",placeholder:"Enter your email"},password:{label:"Password",type:"password"}},async authorize(e,r){(0,l.$)();let a=await i.n.findOne({email:e?.email});return a||null}}),(0,n.Z)({clientId:process.env.GITHUB_CLIENT_ID,clientSecret:process.env.GITHUB_CLIENT_SECRET})]}}};